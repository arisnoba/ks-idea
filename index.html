<!DOCTYPE html>
<html lang="en">
	<head>
		<meta charset="utf-8" />
		<title>Swiper demo</title>
		<meta name="viewport" content="width=device-width, initial-scale=1, minimum-scale=1, maximum-scale=1" />
		<!-- Link Swiper's CSS -->
		<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/swiper@11/swiper-bundle.min.css" />
		<!-- <link rel="stylesheet" href="assets/css/style.css" /> -->
		<link rel="stylesheet" href="assets/css/main.css" />
		<!-- Demo styles -->
		<style>
			html,
			body {
				position: relative;
				height: 100%;
			}

			body {
				background: #eee;
				font-family: Helvetica Neue, Helvetica, Arial, sans-serif;
				font-size: 14px;
				color: #000;
				margin: 0;
				padding: 0;
			}

			.swiper {
				width: 100%;
				height: 100%;
			}

			.swiper-slide {
				text-align: center;
				font-size: 18px;
				background: #fff;
				display: flex;
				justify-content: center;
				align-items: center;
			}

			.swiper-slide img {
				display: block;
				width: 100%;
				height: 100%;
				object-fit: cover;
			}

			.swiper-v {
				background: #eee;
			}
		</style>
		<!-- GSAP CDN 추가 -->
		<script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.11.5/gsap.min.js"></script>
	</head>

	<body>
		<header>
			<nav class="nav">
				<a href="/" class="logo"><img src="/assets/images/logo.svg" alt="logo" /></a>
				<ul>
					<li><a href="/work/">Works</a></li>
					<li><a href="/contact/">Contact</a></li>
				</ul>
			</nav>
		</header>
		<!-- Swiper -->
		<div class="swiper mySwiper swiper-v">
			<div class="swiper-wrapper">
				<div class="swiper-slide">
					<div class="contents">
						<svg width="500" height="200" viewBox="0 0 500 200" fill="none" xmlns="http://www.w3.org/2000/svg">
							<path d="M0 200V132.19L500 0V200H0Z" fill="black" style="fill: black; fill-opacity: 1" />
						</svg>
						<h1>GROW OR DISAPPEAR</h1>
					</div>
				</div>
				<div class="swiper-slide">
					<div class="contents">
						<h2>GROW OR DISAPPEAR</h2>
						<p class="desc">브랜드에게 성장의 반대말은 소멸이다 페달을 밟지 않으면 넘어지는 자전거와 같다 사라지는 브랜드가 되지 않으려면 성장해야 한다 성장은 브랜드의 숙명이다</p>
					</div>
				</div>
				<div class="swiper-slide">
					<div class="contents">
						<h2>THE GROWTH LAB</h2>
						<p class="desc">
							잘 성장하던 중 길을 잃은 브랜드에게, 나이 들어 성장 속도가 느려진 브랜드에게, 2차 성장의 때가 다가온 브랜드에게 필요한 것은 대대적인 광고 캠페인일까, 유명한 컨설팅 펌의
							리포트일까? 브랜드 상황에 적합한 성장 목표를 설정하고 자신만의 성장 프로그램을 만들고 실행하는 것이 답이다
						</p>
					</div>
				</div>
				<div class="swiper-slide">
					<div class="contents">
						<h2>G-C-I PROGRAM</h2>
						<p class="desc">
							브랜드마다 성장의 목표가 다를 수밖에 없다. 통찰력 있는 성장 목표를 설정하고 그 목표를 달성할 수 있는 핵심 역량을 발견하여 그를 바탕으로 성장을 실행할 차별적 아이디어를 제안한다.
						</p>
					</div>
				</div>
			</div>
			<div class="swiper-pagination"></div>
		</div>

		<!-- Swiper JS -->
		<script src="https://cdn.jsdelivr.net/npm/swiper@11/swiper-bundle.min.js"></script>

		<!-- Initialize Swiper -->
		<script>
			// GSAP 애니메이션 함수 정의
			function animateSlideContent(slide) {
				const h1 = slide.querySelector('h1');
				const h2 = slide.querySelector('h2');
				const desc = slide.querySelector('p.desc');

				if (h1) gsap.set(h1, { opacity: 0, y: 40 });
				if (h2) gsap.set(h2, { opacity: 0, y: 40 });
				if (desc) gsap.set(desc, { opacity: 0, y: 40 });

				const tl = gsap.timeline();
				if (h1) tl.to(h1, { opacity: 1, y: 0, duration: 0.7, ease: 'power2.out' }, 0);
				if (h2) tl.to(h2, { opacity: 1, y: 0, duration: 0.7, ease: 'power2.out' }, 0.3);
				if (desc) tl.to(desc, { opacity: 1, y: 0, duration: 0.7, ease: 'power2.out' }, 0.6);
			}

			var swiperV = new Swiper('.swiper-v', {
				direction: 'vertical',
				mousewheel: true,
				pagination: {
					el: '.swiper-pagination',
					clickable: true,
				},
				on: {
					slideChangeTransitionStart: function () {
						this.slides.forEach(function (slide) {
							const h1 = slide.querySelector('h1');
							const h2 = slide.querySelector('h2');
							const desc = slide.querySelector('p.desc');
							if (h1) gsap.set(h1, { opacity: 0, y: 40 });
							if (h2) gsap.set(h2, { opacity: 0, y: 40 });
							if (desc) gsap.set(desc, { opacity: 0, y: 40 });
						});
						const activeSlide = this.slides[this.activeIndex];
						animateSlideContent(activeSlide);
					},
				},
			});

			// 첫 로드시에도 모션 적용
			document.addEventListener('DOMContentLoaded', function () {
				const firstActive = document.querySelector('.swiper-slide-active');
				if (firstActive) animateSlideContent(firstActive);
			});
		</script>
	</body>
</html>
