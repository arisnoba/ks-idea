<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml">
	<head>
		<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
		<title>Vertical navigation dots - fullPage.js</title>
		<meta name="author" content="Alvaro Trigo Lopez" />
		<meta name="description" content="fullPage full-screen navigation and sections control menu." />
		<meta name="keywords" content="fullpage,jquery,demo,screen,fullscreen,navigation,control arrows, dots" />
		<meta name="Resource-type" content="Document" />

		<link rel="stylesheet" type="text/css" href="/assets/css/fullpage.css" />
		<link rel="stylesheet" type="text/css" href="/assets/css/examples.css" />
		<style>
			/* Style for our header texts
	* --------------------------------------- */
			h1 {
				font-size: 5em;
				font-family: arial, helvetica;
				color: #fff;
				margin: 0;
			}
			.intro p {
				color: #fff;
			}

			/* Centered texts in each section
	* --------------------------------------- */
			.section {
				text-align: center;
			}

			/* Overwriting styles for control arrows for slides
	* --------------------------------------- */
			.controlArrow.prev {
				left: 50px;
			}
			.controlArrow.next {
				right: 50px;
			}

			/* Overwriting styles for navigation bullets
	* --------------------------------------- */
			#fp-nav ul li a span,
			.fp-slidesNav ul li a span {
				background: white;
			}

			/* Bottom menu
	* --------------------------------------- */
			#infoMenu li a {
				color: #fff;
			}
		</style>

		<!--[if IE]>
			<script type="text/javascript">
				var console = { log: function () {} };
			</script>
		<![endif]-->
	</head>
	<body>
		<select id="demosMenu">
			<option selected>Choose Demo</option>
			<option id="simple">Simple</option>
			<option id="custom-arrows">Custom arrows</option>
			<option id="hide-sections">Hide sections</option>
			<option id="scroll-after-fullpage">Scroll after fullpage</option>
			<option id="observer">Observer</option>
			<option id="jquery-adapter">jQuery adapter</option>
			<option id="active-slide">Active section and slide</option>
			<option id="auto-height">Auto height</option>
			<option id="autoplay-video-and-audio">Autoplay Video and Audio</option>
			<option id="backgrounds">Background images</option>
			<option id="backgrounds-fixed">Fixed fullscreen backgrounds</option>
			<option id="background-video">Background video</option>
			<option id="callbacks">Callbacks</option>
			<option id="continuous-horizontal">Continuous horizontal (premium)</option>
			<option id="continuous-vertical">Continuous vertical</option>
			<option id="parallax">Parallax (premium)</option>
			<option id="cards">Cards 3d (premium)</option>
			<option id="water-effect">Water effect (premium)</option>
			<option id="drop-effect">Drop effect (premium)</option>
			<option id="css3">CSS3</option>
			<option id="drag-and-move">Drag And Move (premium)</option>
			<option id="easing-css3">Easing CSS</option>
			<option id="easing-js">Easing JS</option>
			<option id="fading-effect">Fading Effect (premium)</option>
			<option id="fixed-headers">Fixed headers</option>
			<option id="gradient-backgrounds">Gradient backgrounds</option>
			<option id="interlocked-slides">Interlocked Slides (premium)</option>
			<option id="looping">Looping</option>
			<option id="methods">Methods</option>
			<option id="navigation-vertical">Vertical navigation dots</option>
			<option id="navigation-horizontal">Horizontal navigation dots</option>
			<option id="navigation-tooltips">Navigation tooltips</option>
			<option id="no-anchor">No anchor links</option>
			<option id="normal-scroll">Normal scrolling</option>
			<option id="normalScrollElements">Normal scroll elements</option>
			<option id="offset-sections">Offset sections (premium)</option>
			<option id="one-section">One single section</option>
			<option id="reset-sliders">Reset sliders (premium)</option>
			<option id="responsive-auto-height">Responsive Auto Height</option>
			<option id="responsive-height">Responsive Height</option>
			<option id="responsive-width">Responsive Width</option>
			<option id="responsive-slides">Responsive Slides (premium)</option>
			<option id="scrollBar">Scroll bar enabled</option>
			<option id="scroll-horizontally">Scroll horizontally (premium)</option>
			<option id="scrollOverflow">Scroll inside sections and slides</option>
			<option id="scrollOverflow-reset">ScrollOverflow Reset (premium)</option>
			<option id="lazy-load">Lazy load</option>
			<option id="scrolling-speed">Scrolling speed</option>
			<option id="trigger-animations">Trigger animations</option>
			<option id="vue-fullpage">Vue component</option>
			<option id="react-fullpage">React component</option>
			<option id="angular-fullpage">Angular component</option>
		</select>

		<div id="fullpage">
			<div class="section" id="section0">
				<div class="intro">
					<h1>Navigation dots</h1>
					<p>An easy and beautiful way to navigate through the sections</p>
				</div>
			</div>
			<div class="section" id="section1">
				<div class="slide" id="slide1">
					<div class="intro">
						<h1>Clickable</h1>
						<p>You can even click on the navigation and jump directly to another section.</p>
					</div>
				</div>

				<div class="slide" id="slide2">
					<h1>Slide 2</h1>
				</div>
				<div class="slide" id="slide3">
					<h1>Slide 3</h1>
				</div>
			</div>
			<div class="section" id="section2">
				<div class="intro">
					<h1>Enjoy it</h1>
				</div>
			</div>
		</div>

		<script type="text/javascript" src="/assets/js/fullpage.js"></script>
		<script type="text/javascript" src="/assets/js/examples.js"></script>

		<script type="text/javascript">
			var myFullpage = new fullpage('#fullpage', {
				anchors: ['firstPage', 'secondPage', '3rdPage'],
				sectionsColor: ['#C63D0F', '#1BBC9B', '#7E8F7C'],
				navigation: true,
				navigationPosition: 'right',
				navigationTooltips: ['First page', 'Second page', 'Third and last page'],
				onLeave: function (origin, destination, direction) {
					if (destination.index === 1) {
						enableHorizontalWheel();
					} else {
						disableHorizontalWheel();
					}
				},
				afterLoad: function (origin, destination, direction) {
					if (destination.index === 1) {
						enableHorizontalWheel();
					} else {
						disableHorizontalWheel();
					}
				},
			});

			function enableHorizontalWheel() {
				var section = document.querySelector('#section1');
				section.addEventListener('wheel', horizontalWheelHandler, { passive: false });
			}
			function disableHorizontalWheel() {
				var section = document.querySelector('#section1');
				section.removeEventListener('wheel', horizontalWheelHandler, { passive: false });
			}
			function horizontalWheelHandler(e) {
				if (Math.abs(e.deltaY) > Math.abs(e.deltaX)) {
					const slides = document.querySelectorAll('#section1 .slide');
					const activeSlide = Array.from(slides).findIndex(slide => slide.classList.contains('active'));
					if (e.deltaY > 0) {
						if (activeSlide < slides.length - 1) {
							e.preventDefault();
							fullpage_api.moveSlideRight();
						}
					} else if (e.deltaY < 0) {
						if (activeSlide > 0) {
							e.preventDefault();
							fullpage_api.moveSlideLeft();
						}
					}
				} else {
					e.preventDefault();
				}
			}

			// section1에서 상하 터치로만 가로 슬라이드 이동
			let touchStartY = 0;
			let touchEndY = 0;
			const section1 = document.getElementById('section1');

			section1.addEventListener('touchstart', function (e) {
				if (e.touches.length === 1) {
					touchStartY = e.touches[0].clientY;
				}
			});

			section1.addEventListener(
				'touchend',
				function (e) {
					if (e.changedTouches.length === 1) {
						touchEndY = e.changedTouches[0].clientY;
						const diffY = touchEndY - touchStartY;
						if (Math.abs(diffY) > 200) {
							// 임계값(조정 가능)
							console.log('diffY', diffY);
							const slides = document.querySelectorAll('#section1 .slide');
							const activeSlide = Array.from(slides).findIndex(slide => slide.classList.contains('active'));
							if (diffY < 0) {
								// swipe up → 다음
								if (activeSlide < slides.length - 1) {
									fullpage_api.moveSlideRight();
									e.preventDefault();
								}
								// 마지막 슬라이드면 기본 동작(섹션2로 이동)
							} else if (diffY > 0) {
								// swipe down → 이전
								if (activeSlide > 0) {
									fullpage_api.moveSlideLeft();
									e.preventDefault();
								}
								// 첫 슬라이드면 기본 동작(섹션0으로 이동)
							}
						}
					}
				},
				{ passive: false }
			);
		</script>
	</body>
</html>
